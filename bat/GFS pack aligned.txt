@echo off
setlocal EnableDelayedExpansion

echo GFS pack aligned
echo.

set argCount=0
set fileParams=-files
REM A 'call' is required for the parameter to be evaluated correctly
FOR %%p IN (%*) DO (
    set /A argCount+=1
    call :concat %%p
)

if %argCount% == 1 (
    SkullMod -do pack -gfs -gfs_align %fileParams%
    echo.
) else (
    echo Drag and drop a single directory here
    echo For details look in the README.txt
    echo. 
)

pause

:concat
set fileParams=%fileParams% %1